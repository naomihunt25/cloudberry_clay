{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>

    {% block meta %}
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    {% endblock %}

    <title>Cloudberry Clay {% block extra_title %}{% endblock %}</title>

    {% block corecss %}
    <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous"/>
        <link rel="stylesheet" href="{% static 'css/base.css' %}">
    {% endblock %}
    {% block extra_css %}{% endblock %}

    {% block corejs %}
    <!-- jQuery + Bootstrap JS -->
        <script
      src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
    {% endblock corejs %}

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="{{ MEDIA_URL }}apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ MEDIA_URL }}favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ MEDIA_URL }}favicon-16x16.png">
  </head>
   
   <body>
    <!-- Header -->
    <header class="fixed-top bg-white shadow-sm">
    
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white py-3 d-none d-lg-flex shadow-sm">
  <div class="container">

    <!-- Logo -->
    <a class="navbar-brand" href="{% url 'home' %}">
      <img src="{{ MEDIA_URL }}cloudberry_clay_logo.webp" alt="Cloudberry Clay Logo" class="logo-img">
    </a>

    <!-- Navbar links -->
    <ul class="navbar-nav mx-auto">
      <li class="nav-item"><a class="nav-link" href="{% url 'home' %}">Home</a></li>

      <!-- Products Dropdown -->
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="productsDropdown"
           role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Products
        </a>
        <div class="dropdown-menu" aria-labelledby="productsDropdown">
          <a class="dropdown-item" href="">Jewellery Holders</a>
          <a class="dropdown-item" href="">Homeware</a>
          <a class="dropdown-item" href="">Dining</a>
          <a href="" class="dropdown-item">All Products</a>
        </div>
      </li>

      <li class="nav-item"><a class="nav-link" href="#">About</a></li>
    </ul>

    <!-- Right-side: Search + User + Cart -->
    <ul class="navbar-nav ml-auto align-items-center">
      <!-- Search -->
      <li class="nav-item mr-3">
      <form method="GET" action="">
    <input type="search" name="q" placeholder="Search products...">
    <button type="submit">Search</button>
</form>
      </li>

      <!-- User Dropdown -->
      <li class="nav-item dropdown">
        <a class="nav-link" href="#" id="userOptions" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="fas fa-user fa-lg"></i>
        </a>
        <div class="dropdown-menu dropdown-menu-right border-0 shadow" aria-labelledby="userOptions">
          {% if request.user.is_authenticated %}
            {% if request.user.is_superuser %}
              <a href="" class="dropdown-item">Product Management</a>
            {% endif %}
            <a href="" class="dropdown-item">My Profile</a>
            <a href="{% url 'account_logout' %}" class="dropdown-item">Logout</a>
          {% else %}
            <a href="{% url 'account_signup' %}" class="dropdown-item">Register</a>
            <a href="{% url 'account_login' %}" class="dropdown-item">Login</a>
          {% endif %}
        </div>
      </li>

      <!-- Shopping Bag -->
      <li class="nav-item">
        <a class="nav-link {% if grand_total %}text-accent-blue font-weight-bold{% endif %}" href="">
          <i class="fas fa-shopping-bag fa-lg"></i>
          <span class="ml-1">
            {% if grand_total %} £{{ grand_total|floatformat:2 }} {% else %} £0.00 {% endif %}
          </span>
        </a>
      </li>
    </ul>

  </div>
</nav>
      <div
        class="text-center text-white py-2"
        style="background-color: var(--accent-pink); font-family: 'Roboto Mono'"
      >
        Free UK shipping on orders over £{{ free_delivery_threshold }}!
      </div>
    </header>

    <!-- Messages -->
    {% if messages %}
        <div class="message-container"></div>
    {% endif %}

    <!-- Main Content -->
    {% block content %}
    {% endblock %}

    {% block postloadjs %}{% endblock %}
    
   </body>
</html>
